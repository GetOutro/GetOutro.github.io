<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="好想爱这个世界啊">
<meta property="og:type" content="website">
<meta property="og:title" content="只只">
<meta property="og:url" content="https://getoutro.github.io/index.html">
<meta property="og:site_name" content="只只">
<meta property="og:description" content="好想爱这个世界啊">
<meta property="article:author" content="hch">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://getoutro.github.io/"/>





  <title>只只</title>
  








<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">只只</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">一个正在学习的编程菜鸟</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://getoutro.github.io/2020/05/16/Java%E9%9B%86%E5%90%88%E4%B9%8BMap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hch">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="只只">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/16/Java%E9%9B%86%E5%90%88%E4%B9%8BMap/" itemprop="url">Java集合之Map</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-16T00:00:00+08:00">
                2020-05-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Java集合之Map"><a href="#Java集合之Map" class="headerlink" title="Java集合之Map"></a>Java集合之Map</h1><p>写下这个也算是复习一下之前学习的知识吧。</p>
<h2 id="Map集合"><a href="#Map集合" class="headerlink" title="Map集合"></a>Map集合</h2><p>Map集合存储的是 key-value 形式的键值对，需要保证键的唯一性。</p>
<p>接口中定义了一些方法</p>
<p>1、添加</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">V <span class="title">put</span><span class="params">(K key, V value)</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">putAll</span><span class="params">(Map&lt;? extends K,? extends V&gt; m)</span></span></span><br></pre></td></tr></table></figure>

<p>2、删除</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span>     <span class="comment">//从这个映射中移除所有的映射</span></span></span><br><span class="line"><span class="function">V <span class="title">remove</span><span class="params">(Object key)</span>	<span class="comment">//通过键移除对应的键值对</span></span></span><br></pre></td></tr></table></figure>

<p>3、判断</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span>  <span class="title">containsKey</span><span class="params">(Object key)</span>	<span class="comment">//判断是否存在指定键值的键值对，返回值为布尔型</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">containsValue</span><span class="params">(Object value)</span>	<span class="comment">//判断是否存在指定value的键值对</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span>		<span class="comment">//判断集合是否为空</span></span></span><br></pre></td></tr></table></figure>

<p>4、获取</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">V <span class="title">get</span><span class="params">(Object key)</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span>  <span class="comment">//返回这个映射中的键值映射的数目</span></span></span><br><span class="line"><span class="function">Collection&lt;V&gt; <span class="title">values</span><span class="params">()</span>  <span class="comment">//返回一个 Collection视图的值包含在这个Map</span></span></span><br></pre></td></tr></table></figure>

<p>Map接口有三个常用的实现类</p>
<ul>
<li>HashMap:底层是哈希表数据结构，允许使用null键null值，线程非同步，效率高(jdk 1.2)</li>
<li>HashTable:底层是哈希表数据结构，哈希表映射了键的值，不能存入null键或null值，线程同步，效率相对低</li>
<li>TreeMap:底层是二叉树数据结构，线程非同步，可以用于给Map集合中的键排序，和Collection的Set相似，实际上Set底层就是使用了Map集合</li>
</ul>
<h3 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a>HashMap</h3><p>一个简单HashMap的Demo</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MapDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Map&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="comment">//添加元素，相同的键对应的值会被后添加的元素的值覆盖掉，并且返回之前对应的值</span></span><br><span class="line">        System.out.println(<span class="string">"put():"</span>+map.put(<span class="string">"66"</span>,<span class="string">"xixi"</span>));</span><br><span class="line">        System.out.println(<span class="string">"put():"</span>+map.put(<span class="string">"66"</span>,<span class="string">"huanhuan"</span>));</span><br><span class="line">        map.put(<span class="string">"01"</span>, <span class="string">"zhangsan1"</span>);</span><br><span class="line">        map.put(<span class="string">"02"</span>, <span class="string">"zhangsan2"</span>);</span><br><span class="line">        map.put(<span class="string">"03"</span>, <span class="string">"zhangsan3"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"containsKey():"</span> + map.containsKey(<span class="string">"02"</span>));</span><br><span class="line">        System.out.println(<span class="string">"remove():"</span> + map.remove(<span class="string">"022"</span>));<span class="comment">//不存在返回null</span></span><br><span class="line">        System.out.println(<span class="string">"remove():"</span> + map.remove(<span class="string">"02"</span>));<span class="comment">//返回对应的Value</span></span><br><span class="line">        System.out.println(<span class="string">"get():"</span>+map.get(<span class="string">"01"</span>));</span><br><span class="line">        System.out.println(<span class="string">"get():"</span>+map.get(<span class="string">"012"</span>));<span class="comment">//不存在返回null</span></span><br><span class="line">        map.put(<span class="keyword">null</span>,<span class="string">"kongxin"</span>);<span class="comment">//HashMap允许以null作为键和值,但是键只能有一个为null</span></span><br><span class="line">        map.put(<span class="string">"04"</span>,<span class="keyword">null</span>);</span><br><span class="line">        System.out.println(<span class="string">"get():"</span>+map.get(<span class="keyword">null</span>));</span><br><span class="line">        System.out.println(<span class="string">"get():"</span>+map.get(<span class="string">"04"</span>));</span><br><span class="line">        System.out.println(map);</span><br><span class="line">        Collection&lt;String&gt; values = map.values();</span><br><span class="line">        System.out.println(values);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">put():null</span><br><span class="line">put():xixi</span><br><span class="line">containsKey():true</span><br><span class="line">remove():null</span><br><span class="line">remove():zhangsan2</span><br><span class="line">get():zhangsan1</span><br><span class="line">get():null</span><br><span class="line">get():kongxin</span><br><span class="line">get():null</span><br><span class="line">&#123;66&#x3D;huanhuan, null&#x3D;kongxin, 01&#x3D;zhangsan1, 03&#x3D;zhangsan3, 04&#x3D;null&#125;</span><br><span class="line">[huanhuan, kongxin, zhangsan1, zhangsan3, null]</span><br></pre></td></tr></table></figure>

<p>Map集合有两种取出方式</p>
<p>1、Set<K> keySet()：将Map中所有的键存入到Set集合，Set集合有迭代器，所有可以用迭代的方式取出所有键，再根据get方法获取每一个键对应的值，Map集合的取值原理：将Map集合转成Set集合，通过Set集合的迭代器取出。</p>
<p>2、Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()：将Map集合中的映射关系存入到了Set集合中，而这个关系的数据类型就是Map.Entry</p>
<p>下面是代码的示例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Map集合的两种取出方式</span></span><br><span class="line"><span class="comment"> * 1、Set&lt;K&gt; keySet()：将Map中所有的键存入到Set集合，Set集合有迭代器，所有可以用迭代的方式取出所有键，再根据get方法获取每一个键对应的值</span></span><br><span class="line"><span class="comment"> * Map集合的取值原理：将Map集合转成Set集合，通过Set集合的迭代器取出。</span></span><br><span class="line"><span class="comment"> * 2、Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()：将Map集合中的映射关系存入到了Set集合中，而这个关系的数据类型就是Map.Entry</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MapDemo2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Map&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">"001"</span>, <span class="string">"zhangsan1"</span>);</span><br><span class="line">        map.put(<span class="string">"002"</span>, <span class="string">"zhangsan2"</span>);</span><br><span class="line">        map.put(<span class="string">"003"</span>, <span class="string">"zhangsan3"</span>);</span><br><span class="line">        map.put(<span class="string">"004"</span>, <span class="string">"zhangsan4"</span>);</span><br><span class="line">        <span class="comment">//将Map集合中的映射关系取出,存入到Set集合中</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * Map.Entry 其实Entry也是一个接口，它是Map接口中的一个内部接口</span></span><br><span class="line"><span class="comment">         * public static interface Map.Entry&lt;K,V&gt;</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        Set&lt;Map.Entry&lt;String, String&gt;&gt; entries = map.entrySet();</span><br><span class="line">        Iterator&lt;Map.Entry&lt;String, String&gt;&gt; iterator = entries.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            Map.Entry&lt;String, String&gt; entry = iterator.next();</span><br><span class="line">            String key = entry.getKey();</span><br><span class="line">            String value = entry.getValue();</span><br><span class="line">            System.out.println(key + <span class="string">"="</span> + value);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//先获取map集合所有的键的Set集合,keySet</span></span><br><span class="line">        <span class="comment">/*Set&lt;String&gt; keys = map.keySet();</span></span><br><span class="line"><span class="comment">        //有了Set集合就可以获取其迭代器</span></span><br><span class="line"><span class="comment">        Iterator&lt;String&gt; iterator = keys.iterator();</span></span><br><span class="line"><span class="comment">        while (iterator.hasNext()) &#123;</span></span><br><span class="line"><span class="comment">            String key = iterator.next();</span></span><br><span class="line"><span class="comment">            //有了键可以通过map集合的get方法获取其对应的值</span></span><br><span class="line"><span class="comment">            String value = map.get(key);</span></span><br><span class="line"><span class="comment">            System.out.println(key + "=" + value);</span></span><br><span class="line"><span class="comment">        &#125;*/</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">001&#x3D;zhangsan1</span><br><span class="line">002&#x3D;zhangsan2</span><br><span class="line">003&#x3D;zhangsan3</span><br><span class="line">004&#x3D;zhangsan4</span><br></pre></td></tr></table></figure>

<p>这两种方式个人更喜欢第二种，这种取出元素的方式虽然比较繁琐，但是优点在于实际开发中，想要对取出的元素进行操作，会很方便，还有一种增强for循环的形式也可以取出Map中的元素，虽然代码十分简洁，但是却很难对键值对进行操作，各有利弊。</p>
<h3 id="TreeMap"><a href="#TreeMap" class="headerlink" title="TreeMap"></a>TreeMap</h3><p>下面是一个练习题</p>
<p>需求，对学生的年龄进行升序排序</p>
<p>因为数据是以键值对形式存在的</p>
<p>所以要使用可以排序的Map集合，TreeMap</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 需求，对学生的年龄进行升序排序</span></span><br><span class="line"><span class="comment"> * 因为数据是以键值对形式存在的</span></span><br><span class="line"><span class="comment"> * 所以要使用可以排序的Map集合，TreeMap</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MapTest2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TreeMap&lt;Student, String&gt; treeMap = <span class="keyword">new</span> TreeMap&lt;&gt;(<span class="keyword">new</span> StuNameComparator());</span><br><span class="line">        treeMap.put(<span class="keyword">new</span> Student(<span class="string">"b张三1"</span>, <span class="number">18</span>), <span class="string">"武汉"</span>);</span><br><span class="line">        treeMap.put(<span class="keyword">new</span> Student(<span class="string">"张三2"</span>, <span class="number">19</span>), <span class="string">"武汉"</span>);</span><br><span class="line">        treeMap.put(<span class="keyword">new</span> Student(<span class="string">"a张三3"</span>, <span class="number">20</span>), <span class="string">"武汉"</span>);</span><br><span class="line">        treeMap.put(<span class="keyword">new</span> Student(<span class="string">"张三4"</span>, <span class="number">21</span>), <span class="string">"武汉"</span>);</span><br><span class="line">        treeMap.put(<span class="keyword">new</span> Student(<span class="string">"王五"</span>, <span class="number">21</span>), <span class="string">"北京"</span>);</span><br><span class="line">        treeMap.put(<span class="keyword">new</span> Student(<span class="string">"王五"</span>, <span class="number">21</span>), <span class="string">"北京"</span>);<span class="comment">//重复元素</span></span><br><span class="line"></span><br><span class="line">        Set&lt;Map.Entry&lt;Student, String&gt;&gt; entrySet = treeMap.entrySet();</span><br><span class="line">        <span class="comment">//获取迭代器</span></span><br><span class="line">        Iterator&lt;Map.Entry&lt;Student, String&gt;&gt; iterator = entrySet.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            Map.Entry&lt;Student, String&gt; map = iterator.next();</span><br><span class="line">            Student student = map.getKey();</span><br><span class="line">            String address = map.getValue();</span><br><span class="line">            System.out.println(<span class="string">"name:"</span> + student.getName() + <span class="string">",age:"</span> + student.getAge() + <span class="string">",address:"</span> + address);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>自定义比较器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 自定义学生的比较器</span></span><br><span class="line"><span class="comment"> * 按姓名进行排序</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StuNameComparator</span> <span class="keyword">implements</span> <span class="title">Comparator</span>&lt;<span class="title">Student</span>&gt; </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Student o1, Student o2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result = o1.getName().compareTo(o2.getName());</span><br><span class="line">        <span class="keyword">if</span> (result == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> o1.getAge().compareTo(o2.getAge());</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name:a张三<span class="number">3</span>,age:<span class="number">20</span>,address:武汉</span><br><span class="line">name:b张三<span class="number">1</span>,age:<span class="number">18</span>,address:武汉</span><br><span class="line">name:张三<span class="number">2</span>,age:<span class="number">19</span>,address:武汉</span><br><span class="line">name:张三<span class="number">4</span>,age:<span class="number">21</span>,address:武汉</span><br><span class="line">name:王五,age:<span class="number">21</span>,address:北京</span><br></pre></td></tr></table></figure>

<p> 要求：</p>
<p>“abcdab,cde+fabc”获取字符串中字母出现的次数，还要除去字符串中的非字母部分</p>
<p> 希望打印：a(1)b()… * 通过结果发现，美每一个字母都有对应的次数</p>
<p> 说明字母与出现次数之间存在映射关系 * Map集合存放映射关系</p>
<p> 思路：</p>
<p> 1、将字符串转为字符数组，因为要对每一个字母进行操作</p>
<p> 2、定义一个map集合，因为打印结果的字母有顺序，所以使用treeMap集合</p>
<p>  3、遍历字符数组，将每一个字母作为键去查map集合 * 如果返回null，将该字母和1存入到，map集合中 ， 如果返回不是null，说明该字母在map集合内已经存在并有对应次数， 那么就获取该次数并进行自增，然后将该字母和自增后的次数存入到map集合中，覆盖掉原来j键所对应的值</p>
<p>4、将map集合中的数据变成指定的字符串形式返回 </p>
<p>直接上代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeMap;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * "sdasdsafsdjfkjldjkldankvn"获取字符串中字母出现的次数</span></span><br><span class="line"><span class="comment"> * 希望打印：a(1)b()...</span></span><br><span class="line"><span class="comment"> * 通过结果发现，美每一个字母都有对应的次数</span></span><br><span class="line"><span class="comment"> * 说明字母与出现次数之间存在映射关系</span></span><br><span class="line"><span class="comment"> * Map集合存放映射关系</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * 思路：</span></span><br><span class="line"><span class="comment"> * 1、将字符串转为字符数组，因为要对每一个字母进行操作</span></span><br><span class="line"><span class="comment"> * 2、定义一个map集合，因为打印结果的字母有顺序，所以使用treeMap集合</span></span><br><span class="line"><span class="comment"> * 3、遍历字符数组，将每一个字母作为键去查map集合</span></span><br><span class="line"><span class="comment"> * 如果返回null，将该字母和1存入到，map集合中</span></span><br><span class="line"><span class="comment"> * 如果返回不是null，说明该字母在map集合内已经存在并有对应次数</span></span><br><span class="line"><span class="comment"> * 那么就获取该次数并进行自增，然后将该字母和自增后的次数存入到map集合中，覆盖掉原来j键所对应的值</span></span><br><span class="line"><span class="comment"> * 4、将map集合中的数据变成指定的字符串形式返回</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MapTest3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String str = charCount(<span class="string">"abcdab,cde+fabc"</span>);</span><br><span class="line">        System.out.println(str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">charCount</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//将字符串转为字符数组</span></span><br><span class="line">        <span class="keyword">char</span>[] chs = str.toCharArray();</span><br><span class="line">        <span class="comment">//统计字母数字的变量</span></span><br><span class="line">        <span class="comment">//int count = 0;</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * public final class Character extends Object implements Serializable, Comparable&lt;Character&gt;</span></span><br><span class="line"><span class="comment">         *     Character默认实现了Comparable接口，自然排序</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        TreeMap&lt;Character, Integer&gt; treeMap = <span class="keyword">new</span> TreeMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; chs.length; i++) &#123;</span><br><span class="line">            <span class="comment">//如果出现其他特殊字符，要去除</span></span><br><span class="line">            <span class="keyword">if</span> (!(chs[i] &gt;= <span class="string">'a'</span> &amp;&amp; chs[i] &lt;= <span class="string">'z'</span> || chs[i] &gt;= <span class="string">'A'</span> &amp;&amp; chs[i] &lt;= <span class="string">'Z'</span>))</span><br><span class="line">                <span class="keyword">continue</span>;<span class="comment">//如果不是字母继续循环，不做后面的操作</span></span><br><span class="line"></span><br><span class="line">            Integer value = treeMap.get(chs[i]);</span><br><span class="line">            <span class="keyword">if</span> (value == <span class="keyword">null</span>)<span class="comment">//不存在该字母</span></span><br><span class="line">            &#123;</span><br><span class="line">                treeMap.put(chs[i], <span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                value = value + <span class="number">1</span>;<span class="comment">//集合中已经有了该字母，个数自增再存入集合</span></span><br><span class="line">                treeMap.put(chs[i], value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//System.out.println(treeMap);</span></span><br><span class="line">        <span class="comment">//字符串缓冲区</span></span><br><span class="line">        StringBuilder stringBuilder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        Set&lt;Map.Entry&lt;Character, Integer&gt;&gt; entrySet = treeMap.entrySet();</span><br><span class="line">        Iterator&lt;Map.Entry&lt;Character, Integer&gt;&gt; iterator = entrySet.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            Map.Entry&lt;Character, Integer&gt; next = iterator.next();</span><br><span class="line">            Character key = next.getKey();</span><br><span class="line">            Integer value = next.getValue();</span><br><span class="line">            stringBuilder.append(key + <span class="string">"("</span> + value + <span class="string">")"</span> + <span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stringBuilder.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a(3) d(5) f(2) j(3) k(3) l(2) n(2) s(4) v(1)</span><br></pre></td></tr></table></figure>




          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://getoutro.github.io/2020/05/16/%E5%8D%95%E4%BE%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hch">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="只只">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/16/%E5%8D%95%E4%BE%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" itemprop="url">单例设计模式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-16T00:00:00+08:00">
                2020-05-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="单例设计模式"><a href="#单例设计模式" class="headerlink" title="单例设计模式"></a>单例设计模式</h1><p>什么是单例模式呢？</p>
<p>单例模式，是在我们软件开发过程中一种常用的软件设计模式，在它的核心结构中只包含一个被称为单例的特殊类。通过单例设计模式可以保证系统中，应用该模式的类只有一个实例，即一个类只有一个对象实例。</p>
<p>具体实现：</p>
<p>1、将构造方法私有化，使其不饿能在类的外部通过new关键字实例化该对象</p>
<p>2、在该类内部产生一个唯一的实例化对象，并且将其修饰为private static类型</p>
<p>3、定义一个静态方法返回这个唯一对象</p>
<p>单例模式有两种实现：</p>
<h2 id="饿汉式"><a href="#饿汉式" class="headerlink" title="饿汉式"></a>饿汉式</h2><p>饿汉式的特点是立即加载，即使用类的时候已经将对象创建完毕（不管以后会不会使用到该实例对象，先创建再说，故被称为”饿汉模式”）</p>
<p>代码示例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Single</span> </span>&#123;</span><br><span class="line">    <span class="comment">//将自身实例化对象设置为一个属性</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Single s = <span class="keyword">new</span> Single();</span><br><span class="line">    <span class="comment">//构造方法私有化</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Single</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="comment">//静态方法返回该实例</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Single <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>饿汉式的优缺点：</p>
<p>优点：实现起来很简单，没有多线程同步问题</p>
<p>缺点：当类Single被加载的时候，会初始化static的 s，静态变量被创建并分配内存空间，从这之后，这个static的s对象便会一直占用内存（即使没有用到这个实例对象），因此会耗费内存空间。</p>
<h2 id="懒汉式"><a href="#懒汉式" class="headerlink" title="懒汉式"></a>懒汉式</h2><p>饱汉式的特点就是延迟加载，即只要调用对象实例时才被创建，一般饿汉式在实际开发中使用较多。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 懒汉式</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Single</span> </span>&#123;</span><br><span class="line">    <span class="comment">//将自身实例化对象设置为属性</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Single s = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//构造方法私有化</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Single</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//静态方法返回该实例对象</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Single.getInstance() &#123;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span>) &#123;    <span class="comment">//减少判断锁的次数，减少资源开销,提高懒汉式的效率</span></span><br><span class="line">            <span class="keyword">synchronized</span> (Single<span class="class">.<span class="keyword">class</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (s == <span class="keyword">null</span>)</span><br><span class="line">                    s = <span class="keyword">new</span> Single();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>懒汉式优缺点：</p>
<p>优点：实现简单，按需加载，节约内存资源</p>
<p>缺点：多线程下，需要加锁才能保证单例的状态</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://getoutro.github.io/2020/05/14/Collection%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%8F%8A%E4%BB%A3%E7%A0%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hch">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="只只">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/14/Collection%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%8F%8A%E4%BB%A3%E7%A0%81/" itemprop="url">Java之Collection学习笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-14T00:00:00+08:00">
                2020-05-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h1><p>Interface Collection<E> 来自java.util包下，是非常实用的数据结构，字面意思是容器。</p>
<p>JDK中的描述：它是集合层次结构根接口。一个集合代表一组对象，被称为元素。一些集合允许重复的元素，而其他的则不允许。有些是有序和无序的人。JDK没有提供这个接口的任何直接的实现：它提供更具体的子接口像  <code>Set</code>和 <code>List</code>实现。此接口通常用于通过收集和操纵他们最大的共性是理想。</p>
<p><strong>Collection的继承实现体系图</strong></p>
<p><img src="http://s1.wailian.download/2020/05/14/SFP4H5BKPKWYKCS4M2SKO.png" alt="SFP4H5BKPKWYKCS4M2SKO.png">  </p>
<p><strong>Collection</strong></p>
<p>子接口：</p>
<p>​     |– <strong>List</strong>：特点：元素是有序的（怎么存入，怎么取出），元素可以重复。因为该集合体系有索引       </p>
<p>​                常用实现类：</p>
<p>​                 <strong>ArrayList</strong>:底层的数据结构使用的是数组结构    特点：查询速度快，但是添加和删除元素慢，线程                                            不同步                  </p>
<p>​                <strong>LinkedList</strong>：底层使用的是链表数据结构      特点：查询速度慢，增删速度快</p>
<p>​                 <strong>Vector</strong>：底层是数组数据结构，Vector是线程同步的，无论增删还是查询都慢</p>
<p>​    |–<strong>Set</strong>：元素是无序的，元素不重复</p>
<h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><p>List特有方法，凡是可以操作角标的方法都是体系特有的方法</p>
<ul>
<li><p>增</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">add(index,element)	<span class="comment">//将指定的元素到这个列表的末尾（可选操作）。</span></span><br><span class="line">addAll(index,Collection)	<span class="comment">//追加指定集合的所有元素到这个列表的末尾，按他们的指定集合的迭代器返回</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>删</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">remove(index）	<span class="comment">//移除此列表中指定位置的元素</span></span><br></pre></td></tr></table></figure>

<ul>
<li>改</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set(index,element)	<span class="comment">//用指定元素替换此列表中指定位置的元素</span></span><br></pre></td></tr></table></figure>

<ul>
<li>查</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">get(index)		<span class="comment">//返回此列表中指定位置的元素</span></span><br><span class="line"><span class="function">List&lt;E&gt; <span class="title">subList</span><span class="params">(<span class="keyword">int</span> fromIndex, <span class="keyword">int</span> toIndex)</span> 	<span class="comment">//返回一个子集合，指定头尾角标</span></span></span><br><span class="line"><span class="function">Iterator&lt;E&gt; <span class="title">listIterator</span><span class="params">()</span>	<span class="comment">//返回列表元素的列表迭代器</span></span></span><br></pre></td></tr></table></figure>

<p>List集合特有的迭代器：<strong>ListIterator</strong>是<strong>Iterator</strong>的子接口，在迭代时，不可以通过集合对象的方法操作集合中的元素，会发生并发异常， <strong>ConcurrentModificationException</strong> 所以在迭代时，只能用迭代器的方法操作元素，Iterator的方法有局限，只能对元素取出判断和删除的操作， <strong>ListIterator</strong>在其基础上加了添加、修改等操作，该接口通过List的<strong>listIterator</strong> 方法获取</p>
<p>一个测试List集合的Demo</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ArrayList arrayList = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        <span class="comment">//添加元素</span></span><br><span class="line">        arrayList.add(<span class="string">"java1"</span>);</span><br><span class="line">        arrayList.add(<span class="string">"java2"</span>);</span><br><span class="line">        arrayList.add(<span class="string">"java3"</span>);</span><br><span class="line">        <span class="comment">//在迭代过程中准备添加或者删除元素</span></span><br><span class="line">       <span class="comment">/* Iterator it = arrayList.iterator();</span></span><br><span class="line"><span class="comment">        while (it.hasNext()) &#123;</span></span><br><span class="line"><span class="comment">            Object object = it.next();</span></span><br><span class="line"><span class="comment">            if (object.equals("java2")) &#123;</span></span><br><span class="line"><span class="comment">                it.remove();//将java2的引用从集合中删除了</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">            sop("obj=" + object);   //只是迭代器的元素被删除了，object还是正常输出</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        sop(arrayList);*/</span></span><br><span class="line">        sop(arrayList);</span><br><span class="line">        ListIterator lt = arrayList.listIterator();</span><br><span class="line">        <span class="comment">//sop("lt.hasPrevious():" + lt.hasPrevious());</span></span><br><span class="line">        <span class="keyword">while</span> (lt.hasNext()) &#123;</span><br><span class="line">            Object obj = lt.next();</span><br><span class="line">            <span class="keyword">if</span> (obj.equals(<span class="string">"java2"</span>)) &#123;</span><br><span class="line">                <span class="comment">//lt.add("java520");</span></span><br><span class="line">                lt.set(<span class="string">"java222"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//sop("lt.hasNext():" + lt.hasNext());</span></span><br><span class="line">        <span class="comment">//sop("lt.hasPrevious():" + lt.hasPrevious());</span></span><br><span class="line">        <span class="keyword">while</span> (lt.hasPrevious()) &#123;</span><br><span class="line">            sop(<span class="string">"previous:"</span> + lt.previous());<span class="comment">//反着取</span></span><br><span class="line">        &#125;</span><br><span class="line">        sop(arrayList);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ArrayList arrayList = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        <span class="comment">//添加元素</span></span><br><span class="line">        arrayList.add(<span class="string">"java1"</span>);</span><br><span class="line">        arrayList.add(<span class="string">"java2"</span>);</span><br><span class="line">        arrayList.add(<span class="string">"java3"</span>);</span><br><span class="line">        sop(<span class="string">"原集合是："</span> + arrayList);</span><br><span class="line">        <span class="comment">//在指定位置添加元素</span></span><br><span class="line">        arrayList.add(<span class="number">1</span>, <span class="string">"xihuan"</span>);</span><br><span class="line">        sop(<span class="string">"添加元素后："</span> + arrayList);</span><br><span class="line">        <span class="comment">//删除指定位置的元素</span></span><br><span class="line">        arrayList.remove(<span class="number">1</span>);</span><br><span class="line">        sop(<span class="string">"删除元素后："</span> + arrayList);</span><br><span class="line">        <span class="comment">//修改元素</span></span><br><span class="line">        arrayList.set(<span class="number">1</span>, <span class="string">"我爱java"</span>);</span><br><span class="line">        sop(<span class="string">"修改元素后：|"</span> + arrayList);</span><br><span class="line">        <span class="comment">//查找元素</span></span><br><span class="line">        sop(<span class="string">"get(1):"</span> + arrayList.get(<span class="number">1</span>));</span><br><span class="line">        sop(arrayList);</span><br><span class="line">        <span class="keyword">for</span> (ListIterator lt = arrayList.listIterator(); lt.hasNext(); ) &#123;</span><br><span class="line">            sop(<span class="string">"next:"</span> + lt.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//自定义输出方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sop</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        System.out.println(object);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>返回结果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[java1, java2, java3]</span><br><span class="line">previous:java3</span><br><span class="line">previous:java222</span><br><span class="line">previous:java1</span><br><span class="line">[java1, java222, java3]</span><br></pre></td></tr></table></figure>

<h2 id="List的常用实现类"><a href="#List的常用实现类" class="headerlink" title="List的常用实现类"></a>List的常用实现类</h2><h3 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h3><p>底层是数组数据结构，特点是：<strong>查询快</strong>，<strong>增删慢</strong>，<strong>线程非同步</strong>，适用于单线程</p>
<p>去除ArrayList中重复元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 去除ArrayList中的重复元素</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayListTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ArrayList list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        list.add(<span class="string">"java"</span>);</span><br><span class="line">        list.add(<span class="string">"java"</span>);</span><br><span class="line">        list.add(<span class="string">"java"</span>);</span><br><span class="line">        list.add(<span class="string">"python"</span>);</span><br><span class="line">        list.add(<span class="string">"python"</span>);</span><br><span class="line">        list.add(<span class="string">"python"</span>);</span><br><span class="line">        list.add(<span class="string">"C"</span>);</span><br><span class="line">        list.add(<span class="string">"C"</span>);</span><br><span class="line">        list.add(<span class="string">"C"</span>);</span><br><span class="line">        ArrayList arrayList = singleElement(list);</span><br><span class="line">        System.out.println(arrayList);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ArrayList <span class="title">singleElement</span><span class="params">(ArrayList arrayList)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//定义一个临时容器</span></span><br><span class="line">        ArrayList newArrayList = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        Iterator it = arrayList.iterator();</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">            Object obj = it.next();</span><br><span class="line">            <span class="keyword">if</span> (!newArrayList.contains(obj)) &#123;</span><br><span class="line">                newArrayList.add(obj);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> newArrayList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最终返回结果只保存了不重复的元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[java, python, C]</span><br></pre></td></tr></table></figure>

<p>将自定义对象存储到 ArrayList 集合中，并去除重复元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 将自定义对象存储到ArrayList集合中，并去除重复元素</span></span><br><span class="line"><span class="comment"> * 比如：存person对象，同名同龄视为同一个人，为重复元素</span></span><br><span class="line"><span class="comment"> * 思路：</span></span><br><span class="line"><span class="comment"> * 1、对人描述，将数据封装进人对象</span></span><br><span class="line"><span class="comment"> * 2、定义容器，将人存入</span></span><br><span class="line"><span class="comment"> * 3、取出</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!(obj <span class="keyword">instanceof</span> Person)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Person person = (Person) obj;</span><br><span class="line">        System.out.println(<span class="keyword">this</span>.name + <span class="string">"..."</span> + person.name);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name.equals(person.name) &amp;&amp; <span class="keyword">this</span>.age == person.age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, Integer age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayListTest2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sop</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        System.out.println(object);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ArrayList <span class="title">singleElement</span><span class="params">(ArrayList arrayList)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//定义一个临时容器</span></span><br><span class="line">        ArrayList newArrayList = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        Iterator it = arrayList.iterator();</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">            Object obj = it.next();</span><br><span class="line">            <span class="keyword">if</span> (!newArrayList.contains(obj)) &#123;</span><br><span class="line">                newArrayList.add(obj);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> newArrayList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ArrayList arrayList = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        arrayList.add(<span class="keyword">new</span> Person(<span class="string">"zhangsan01"</span>, <span class="number">18</span>));</span><br><span class="line">        arrayList.add(<span class="keyword">new</span> Person(<span class="string">"zhangsan02"</span>, <span class="number">18</span>));</span><br><span class="line">        arrayList.add(<span class="keyword">new</span> Person(<span class="string">"zhangsan03"</span>, <span class="number">20</span>));</span><br><span class="line">        arrayList.add(<span class="keyword">new</span> Person(<span class="string">"zhangsan04"</span>, <span class="number">20</span>));</span><br><span class="line">        <span class="comment">//ArrayList al = singleElement(arrayList);</span></span><br><span class="line">        sop(<span class="string">"remove03:"</span> + arrayList.remove(<span class="keyword">new</span> Person(<span class="string">"zhangsan04"</span>, <span class="number">20</span>)));<span class="comment">//底层是equals方法</span></span><br><span class="line">        Iterator it = arrayList.iterator();</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">            Person p = (Person) it.next();</span><br><span class="line">            sop(p.getName() + <span class="string">"::"</span> + p.getAge());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="LinkedList"><a href="#LinkedList" class="headerlink" title="LinkedList"></a>LinkedList</h3><p>底层是链表数据结构，特点是：<strong>查询慢</strong>，<strong>增删快</strong>，<strong>线程同步</strong></p>
<p>LinkedList特有方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">addFirst();</span><br><span class="line">addLast();</span><br><span class="line">getFirst();</span><br><span class="line">getLast();</span><br><span class="line"><span class="comment">//获取元素，但不删除元素，如果集合中没有元素，会出现NoSuchElementException</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">removeFirst();</span><br><span class="line">removeLast();</span><br><span class="line"><span class="comment">//获取元素，但元素被删除,如果集合中没有对应元素，会出现NoSuchElementException</span></span><br></pre></td></tr></table></figure>

<p>在 JDK1.6 出现了替代方法，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">offerFirst();</span><br><span class="line">offerLast();</span><br><span class="line">peekFirst();</span><br><span class="line">peekLast();</span><br><span class="line"><span class="comment">//获取元素，但不删除元素，如果集合中没有元素，返回null</span></span><br><span class="line">pollFirst();</span><br><span class="line">pollLast();</span><br><span class="line"><span class="comment">//获取元素，但元素被删除,如果集合中没有元素，返回null</span></span><br></pre></td></tr></table></figure>

<p>从后往前取</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">huanhuan4</span><br><span class="line">huanhuan3</span><br><span class="line">huanhuan2</span><br><span class="line">huanhuan1</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用LinkedList模拟一个队列或者堆栈数据结构</span></span><br><span class="line"><span class="comment"> * 堆栈：先进后出  如同一个杯子</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * 队列：先进先出  如同一根水管  FIFO(First In First Out)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 队列:先进先出</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Queue</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> LinkedList linkedList;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Queue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        linkedList = <span class="keyword">new</span> LinkedList();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">myAdd</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        linkedList.addFirst(object);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">myGet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> linkedList.removeLast();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isNull</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> linkedList.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 堆栈:后进先出</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stack</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> LinkedList linkedList;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Stack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        linkedList = <span class="keyword">new</span> LinkedList();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">myAdd</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        linkedList.addFirst(object);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">myGet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> linkedList.removeFirst();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isNull</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> linkedList.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedListTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Queue queue = <span class="keyword">new</span> Queue();</span><br><span class="line">        queue.myAdd(<span class="string">"java01"</span>);</span><br><span class="line">        queue.myAdd(<span class="string">"java02"</span>);</span><br><span class="line">        queue.myAdd(<span class="string">"java03"</span>);</span><br><span class="line">        queue.myAdd(<span class="string">"java04"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        System.out.println(queue.myGet());</span></span><br><span class="line">        <span class="keyword">while</span> (!queue.isNull()) &#123;</span><br><span class="line">            System.out.println(queue.myGet());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"========"</span>);</span><br><span class="line">        Stack stack = <span class="keyword">new</span> Stack();</span><br><span class="line">        stack.myAdd(<span class="string">"java01"</span>);</span><br><span class="line">        stack.myAdd(<span class="string">"java02"</span>);</span><br><span class="line">        stack.myAdd(<span class="string">"java03"</span>);</span><br><span class="line">        stack.myAdd(<span class="string">"java04"</span>);</span><br><span class="line">        <span class="keyword">while</span> (!stack.isNull()) &#123;</span><br><span class="line">            System.out.println(stack.myGet());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">java01</span><br><span class="line">java02</span><br><span class="line">java03</span><br><span class="line">java04</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">java04</span><br><span class="line">java03</span><br><span class="line">java02</span><br><span class="line">java01</span><br></pre></td></tr></table></figure>

<h3 id="Vector"><a href="#Vector" class="headerlink" title="Vector"></a>Vector</h3><p>底层是数组数据结构，特点是：查询慢，增删也慢，线程同步</p>
<p>Vector取出元素的方式：枚举</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 枚举就是Vector特有的取出方式</span></span><br><span class="line"><span class="comment"> * 枚举和迭代器很相似</span></span><br><span class="line"><span class="comment"> * 其实枚举和迭代是一样的</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 因为枚举的名称以及方法的名称都过长，所以被迭代器取代了</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VectorDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sop</span><span class="params">(Object object)</span></span>&#123;</span><br><span class="line">        System.out.println(object);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Vector vector = <span class="keyword">new</span> Vector();</span><br><span class="line">        vector.add(<span class="string">"java01"</span>);</span><br><span class="line">        vector.add(<span class="string">"java02"</span>);</span><br><span class="line">        vector.add(<span class="string">"java03"</span>);</span><br><span class="line">        vector.add(<span class="string">"java04"</span>);</span><br><span class="line"></span><br><span class="line">        Enumeration elements = vector.elements();</span><br><span class="line">        <span class="keyword">while</span> (elements.hasMoreElements())&#123;</span><br><span class="line">            sop(elements.nextElement());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><p>Set的元素是无序的(存入和取出的顺序不一定一致)，并且不重复</p>
<h2 id="Set的常用实现类"><a href="#Set的常用实现类" class="headerlink" title="Set的常用实现类"></a>Set的常用实现类</h2><h3 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a>HashSet</h3><p>底层是哈希表，线程非同步</p>
<p>HashSet是如何保证元素的唯一性呢？</p>
<p>通过元素对象的两个方法，hashCode()和equals()来完成</p>
<p>如果元素的哈希值相同，才会调用equals方法来判断对象是否相等</p>
<p>如果元素的哈希值不同，就不会调用equals方法</p>
<p>记住这个结论：哈希值相等，两个对象并不一定相等；反之，equals方法返回true，那么这两个对象一定相等。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * |--Set：元素是无序的(存入和取出的顺序不一定一致)，元素不重复</span></span><br><span class="line"><span class="comment"> * |--HashSet:底层是哈希表</span></span><br><span class="line"><span class="comment"> *          HashSet是如何保证元素唯一性？</span></span><br><span class="line"><span class="comment"> *          通过元素的两个方法，hashCode()和equals()来完成</span></span><br><span class="line"><span class="comment"> *          通过元素的哈希值相同，才会判断equals是否为true</span></span><br><span class="line"><span class="comment"> *          如果元素的哈希值不同，就不会调用equals</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *          注意：对于判断元素是否存在以及删除等操作，都依赖的方法是元素的hashCode和equals方法</span></span><br><span class="line"><span class="comment"> * |--TreeSet:</span></span><br><span class="line"><span class="comment"> * Set集合与Collection的功能是一致的</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashSetDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sop</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        System.out.println(object);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        HashSet hashSet = <span class="keyword">new</span> HashSet();</span><br><span class="line">        hashSet.add(<span class="string">"java01"</span>);</span><br><span class="line">        hashSet.add(<span class="string">"java02"</span>);</span><br><span class="line">        hashSet.add(<span class="string">"java03"</span>);</span><br><span class="line">        hashSet.add(<span class="string">"java03"</span>);</span><br><span class="line">        hashSet.add(<span class="string">"java04"</span>);</span><br><span class="line"></span><br><span class="line">        Iterator it = hashSet.iterator();</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext())&#123;</span><br><span class="line">            sop(it.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>重复元素不能存入HashSet</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">java04</span><br><span class="line">java03</span><br><span class="line">java02</span><br><span class="line">java01</span><br></pre></td></tr></table></figure>

<p>姓名与年龄相同为同一条小狗，认为是重复元素，不存入HashSet</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 往HashSet中存入自定义对象</span></span><br><span class="line"><span class="comment"> * 姓名与年龄相同为同一条小狗，认为是重复元素，不存入HashSet</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//重写hashCode()方法，返回一个固定的哈希值</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">60</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//重写equals(Object obj)方法，定义所需要的变量比较</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//判断传入的Obj是否是由Dog下转型的变量</span></span><br><span class="line">        <span class="keyword">if</span> (!(obj <span class="keyword">instanceof</span> Dog)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//对传入的对象强制转换</span></span><br><span class="line">        Dog dog = (Dog) obj;</span><br><span class="line">        System.out.println(<span class="keyword">this</span>.name + <span class="string">"..."</span> + dog.name);</span><br><span class="line">        <span class="comment">//判断两个对象是否名字和年龄相等，相等则认为是同一个对象</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name.equals(dog.name) &amp;&amp; <span class="keyword">this</span>.age == dog.age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String name, Integer age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashSetTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sop</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        System.out.println(object);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        HashSet hashSet = <span class="keyword">new</span> HashSet();</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> Dog(<span class="string">"小白"</span>, <span class="number">3</span>));</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> Dog(<span class="string">"小白"</span>, <span class="number">3</span>));</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> Dog(<span class="string">"小黄"</span>, <span class="number">4</span>));</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> Dog(<span class="string">"小黄"</span>, <span class="number">4</span>));</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> Dog(<span class="string">"小黄"</span>, <span class="number">5</span>));</span><br><span class="line"></span><br><span class="line">        Iterator iterator = hashSet.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            Dog dog = (Dog) iterator.next();</span><br><span class="line">            sop(dog.getName() + <span class="string">":"</span> + dog.getAge());<span class="comment">//输出结果是无序的</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">小白...小白</span><br><span class="line">小黄...小白</span><br><span class="line">小黄...小白</span><br><span class="line">小黄...小黄</span><br><span class="line">小黄...小白</span><br><span class="line">小黄...小黄</span><br><span class="line">小白:3</span><br><span class="line">小黄:4</span><br><span class="line">小黄:5</span><br></pre></td></tr></table></figure>

<h3 id="TreeSet"><a href="#TreeSet" class="headerlink" title="TreeSet"></a>TreeSet</h3><p>底层是二叉树</p>
<p>TreeSet保证元素唯一性的方式有两种：</p>
<p>第一种：让元素自身具备比较性，元素对象的类实现Comparable 接口并覆盖compareTo方法，定义比较规则，这种方式也称为元素的自然顺序（或者默认顺序）</p>
<p>第二种：当元素自身不具备比较性，或者说元素具备的比较性不是我们所需要的，</p>
<p>这时需要让集合自身具备比较性，自定义比较器。</p>
<p>如何自定义一个比较器呢？</p>
<p>定义一个类，实现Comparator接口，覆盖compare方法，具体可参考下面的代码示例</p>
<p>在集合声明初始化时将自定义比较器放入集合</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TreeSet treeSet = <span class="keyword">new</span> TreeSet(<span class="keyword">new</span> MyCompare());<span class="comment">//new MyCompare()是自定义的比较器</span></span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 当两种排序规则都存在时，以比较器为主</span></span><br><span class="line"><span class="comment"> *  一、定义一个类，实现Comparator接口，覆盖compare方法  1元素大，0元素相同，-1元素小</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * 需求：往treeSet集合中存储自定义对象</span></span><br><span class="line"><span class="comment"> * 想按照学生的年龄进行排序</span></span><br><span class="line"><span class="comment"> * java.lang.ClassCastException: Collection.Student cannot be cast to java.lang.Comparable</span></span><br><span class="line"><span class="comment"> * 排序时，当主要条件相同时，一定要判断次要条件</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCompare</span> <span class="keyword">implements</span> <span class="title">Comparator</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object o1, Object o2)</span> </span>&#123;</span><br><span class="line">        Student student1 = (Student) o1;</span><br><span class="line">        Student student2 = (Student) o2;</span><br><span class="line">        <span class="keyword">int</span> i = student1.getName().compareTo(student2.getName());</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">/*if (student1.getAge() &gt; student2.getAge())</span></span><br><span class="line"><span class="comment">                return 1;</span></span><br><span class="line"><span class="comment">            if (student1.getAge() == student2.getAge())</span></span><br><span class="line"><span class="comment">                return 0;</span></span><br><span class="line"><span class="comment">            if (student1.getAge() &lt; student2.getAge())</span></span><br><span class="line"><span class="comment">                return -1;*/</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Integer(student1.getAge()).compareTo(student2.getAge());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeSetTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//自定义比较器对象放入TreeSet的构造函数</span></span><br><span class="line">        TreeSet treeSet = <span class="keyword">new</span> TreeSet(<span class="keyword">new</span> MyCompare());</span><br><span class="line">        <span class="comment">//通过实现Comparable接口并重写compareTo方法实现通过年龄大小对对象进行排序</span></span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Student(<span class="string">"张三001"</span>, <span class="number">18</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Student(<span class="string">"张三02"</span>, <span class="number">18</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Student(<span class="string">"张三02"</span>, <span class="number">18</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Student(<span class="string">"李四07"</span>, <span class="number">19</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Student(<span class="string">"李四07"</span>, <span class="number">19</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Student(<span class="string">"王五03"</span>, <span class="number">20</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Student(<span class="string">"王五03"</span>, <span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">        Iterator iterator = treeSet.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            <span class="comment">//输出结果是排序的</span></span><br><span class="line">            Student student = (Student) iterator.next();</span><br><span class="line">            System.out.println(student.getName() + <span class="string">"..."</span> + student.getAge());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>重复元素没有存入TreeSet</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">张三001...18</span><br><span class="line">张三02...18</span><br><span class="line">李四07...19</span><br><span class="line">王五03...2</span><br><span class="line">王五03...20</span><br></pre></td></tr></table></figure>

<h2 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h2><p>我感觉泛型这玩意确实挺有意思的，不得不佩服这些设计语言的大佬们！</p>
<p>它是jdk 1.5的新特性，用于解决安全问题，是一个元素类型的安全机制</p>
<p>好处：</p>
<ul>
<li>将运行时出现的问题ClassCastException，转移到编译前，事实上，现在的idea中会直接报错，连编译不会让你编译，先把错误解决了再编译，有利于开发…</li>
<li>避免了强制类型转换的麻烦</li>
</ul>
<p>泛型的格式：’&lt;&gt;’来定义要操作的引用数据类型</p>
<p>在使用Java提供的对象时，什么时候使用泛型呢？</p>
<p>通常在集合框架中十分常见。</p>
<p>一个简单的泛型Demo</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 泛型:  jdk1.5版本的新特性，用于解决安全问题，是一个元素类型安全机制</span></span><br><span class="line"><span class="comment"> * 好处：一、将运行时出现的问题ClassCastException,转移到了编译时期</span></span><br><span class="line"><span class="comment"> * 方便于开发人员解决问题，让运行时的问题减少，代码更严谨</span></span><br><span class="line"><span class="comment"> * 二、避免了强制转换的麻烦</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * 泛型格式： &lt;&gt;来定义要操作的引用数据类型</span></span><br><span class="line"><span class="comment"> * 在使用Java提供的对象时，什么时候使用泛型呢？</span></span><br><span class="line"><span class="comment"> * 通常在集合框架中很常见</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//&lt;String&gt;就是泛型，指定元素类型，我定义了一个ArrayList容器，这个容器的元素是String类型</span></span><br><span class="line">        ArrayList&lt;String&gt; arrayList = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        arrayList.add(<span class="string">"abc01"</span>);</span><br><span class="line">        arrayList.add(<span class="string">"abc02"</span>);</span><br><span class="line">        arrayList.add(<span class="string">"abc03"</span>);</span><br><span class="line">        arrayList.add(<span class="string">"abc04"</span>);</span><br><span class="line">        <span class="comment">//arrayList.add(4);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//指定迭代器装的元素类型也是String，使用这种操作更安全</span></span><br><span class="line">        Iterator&lt;String&gt; iterator = arrayList.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            String s = iterator.next();</span><br><span class="line">            System.out.println(<span class="string">"string:"</span> + s + <span class="string">",length:"</span> + s.length());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string:abc01,length:5</span><br><span class="line">string:abc02,length:5</span><br><span class="line">string:abc03,length:5</span><br><span class="line">string:abc04,length:5</span><br></pre></td></tr></table></figure>

<h3 id="比较器与泛型"><a href="#比较器与泛型" class="headerlink" title="比较器与泛型"></a>比较器与泛型</h3><p>泛型的应用很多，在自定义比较器中也可以指定泛型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 泛型demo2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericDemo2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TreeSet&lt;String&gt; treeSet = <span class="keyword">new</span> TreeSet&lt;String&gt;(<span class="keyword">new</span> StrLenComparator());</span><br><span class="line">        treeSet.add(<span class="string">"huanhuan"</span>);</span><br><span class="line">        treeSet.add(<span class="string">"xixi"</span>);</span><br><span class="line">        treeSet.add(<span class="string">"woshuo"</span>);</span><br><span class="line">        treeSet.add(<span class="string">"ipotatoyou"</span>);</span><br><span class="line"></span><br><span class="line">        Iterator&lt;String&gt; iterator = treeSet.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            String s = iterator.next();</span><br><span class="line">            System.out.println(s + <span class="string">"---"</span> + s.length());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 自定义一个比较器,比较器也可以指定泛型</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StrLenComparator</span> <span class="keyword">implements</span> <span class="title">Comparator</span>&lt;<span class="title">String</span>&gt; </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(String o1, String o2)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//比较长度</span></span><br><span class="line">        <span class="keyword">int</span> result = <span class="keyword">new</span> Integer(o2.length()).compareTo(<span class="keyword">new</span> Integer(o1.length()));<span class="comment">//想按字符串长度升降序排序很简单，倒序之间交换参数o1、o2位置即可</span></span><br><span class="line">        <span class="keyword">if</span> (result == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> o2.compareTo(o1);<span class="comment">//长度一样则按默认比较性</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xixi---4</span><br><span class="line">woshuo---6</span><br><span class="line">huanhuan---8</span><br><span class="line">ipotatoyou---10</span><br></pre></td></tr></table></figure>

<h3 id="泛型类"><a href="#泛型类" class="headerlink" title="泛型类"></a>泛型类</h3><p>还可以定义泛型类，那什么时候需要定义泛型类呢？</p>
<p>当类中要操作的引用数据类型不确定的时候，早期定义Object来完成扩展，现在定义泛型类来完成扩展</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 自定义泛型类</span></span><br><span class="line"><span class="comment"> * 什么时候需要定义泛型类？</span></span><br><span class="line"><span class="comment"> * 当类中要操作的引用数据类型不确定的时候</span></span><br><span class="line"><span class="comment"> * 早期定义Object来完成扩展，现在定义泛型类来完成扩展</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/*class Tool&#123;</span></span><br><span class="line"><span class="comment">    private Worker worker;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    public Worker getWorker() &#123;</span></span><br><span class="line"><span class="comment">        return worker;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    public void setWorker(Worker worker) &#123;</span></span><br><span class="line"><span class="comment">        this.worker = worker;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Worker</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 早期的处理方式，但是需要强制类型转换</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tool</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Object obj;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getObj</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObj</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj = obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 传说中的泛型类</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &lt;QQ&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Utils</span>&lt;<span class="title">QQ</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> QQ qq;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObject</span><span class="params">(QQ qq)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.qq = qq;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> QQ <span class="title">getObject</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> qq;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericDemo3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Utils&lt;Worker&gt; utils = <span class="keyword">new</span> Utils&lt;&gt;();</span><br><span class="line">        utils.setObject(<span class="keyword">new</span> Worker());</span><br><span class="line">        Worker w = utils.getObject();</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*Tool t = new Tool();</span></span><br><span class="line"><span class="comment">        t.setObj(new Student1());</span></span><br><span class="line"><span class="comment">        Worker w = (Worker) t.getObj();*/</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="泛型限定"><a href="#泛型限定" class="headerlink" title="泛型限定"></a>泛型限定</h3><p>语法：&lt;? extends Animal&gt;     ? 通配符，可以理解为占位符</p>
<p>泛型的限定：</p>
<p>&lt;? extends E&gt;     可以接收E类型或者E的子类型，这是向上的限定</p>
<p>&lt;? super E&gt;        可以接收E类型或者E的父类型，这是向下限定</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 泛型限定</span></span><br><span class="line"><span class="comment"> * &lt;? extends Animal&gt;   ？ 通配符，可以理解为占位符</span></span><br><span class="line"><span class="comment"> *泛型的限定：</span></span><br><span class="line"><span class="comment"> * &lt;? extends E&gt;   可以接收E类型或者E的子类型，这是向上限定</span></span><br><span class="line"><span class="comment"> * &lt;? super E&gt;      可以接收E类型或者E的父类型，向下限定</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericDemo4</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/*ArrayList&lt;String&gt; arrayList1 = new ArrayList&lt;&gt;();</span></span><br><span class="line"><span class="comment">        arrayList1.add("abc");</span></span><br><span class="line"><span class="comment">        arrayList1.add("abc520");</span></span><br><span class="line"><span class="comment">        arrayList1.add("abc666");</span></span><br><span class="line"><span class="comment">        ArrayList&lt;Integer&gt; arrayList2 = new ArrayList&lt;&gt;();</span></span><br><span class="line"><span class="comment">        arrayList2.add(1);</span></span><br><span class="line"><span class="comment">        arrayList2.add(3);</span></span><br><span class="line"><span class="comment">        arrayList2.add(1);</span></span><br><span class="line"><span class="comment">        arrayList2.add(4);</span></span><br><span class="line"><span class="comment">        printColl(arrayList1);</span></span><br><span class="line"><span class="comment">        printColl(arrayList2);*/</span></span><br><span class="line">        ArrayList&lt;Animal&gt; arrayList1 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        arrayList1.add(<span class="keyword">new</span> Animal(<span class="string">"小猫"</span>));</span><br><span class="line">        arrayList1.add(<span class="keyword">new</span> Animal(<span class="string">"小狗"</span>));</span><br><span class="line">        arrayList1.add(<span class="keyword">new</span> Animal(<span class="string">"小猪"</span>));</span><br><span class="line">        printColl(arrayList1);</span><br><span class="line"></span><br><span class="line">        ArrayList&lt;Cat&gt; arrayList2 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        arrayList2.add(<span class="keyword">new</span> Cat(<span class="string">"小花猫"</span>));</span><br><span class="line">        arrayList2.add(<span class="keyword">new</span> Cat(<span class="string">"小白猫"</span>));</span><br><span class="line">        arrayList2.add(<span class="keyword">new</span> Cat(<span class="string">"小狸猫"</span>));</span><br><span class="line">        printColl(arrayList2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printColl</span><span class="params">(ArrayList&lt;? extends Animal&gt; arrayList)</span> </span>&#123;   <span class="comment">//&lt;? extends Animal&gt;    泛型限定，只能存放Animal和其子类对象</span></span><br><span class="line">        Iterator&lt;? extends Animal&gt; iterator = arrayList.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            System.out.println(iterator.next().getName());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* public static void printColl(ArrayList&lt;?&gt; arrayList) &#123;//?   占位符，不明确是什么类型</span></span><br><span class="line"><span class="comment">        Iterator&lt;?&gt; iterator = arrayList.iterator();</span></span><br><span class="line"><span class="comment">        while (iterator.hasNext())&#123;</span></span><br><span class="line"><span class="comment">            System.out.println(iterator.next());</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Animal</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Cat</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>向上限定，既可以输出Animal对象，也可以输出继承Animal的Cat对象，非常有意思…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">小猫</span><br><span class="line">小狗</span><br><span class="line">小猪</span><br><span class="line">小花猫</span><br><span class="line">小白猫</span><br><span class="line">小狸猫</span><br></pre></td></tr></table></figure>

<p>通过这个特性，我们可以定义父类的比较器，泛型定义为父类，这样子类可以使用这个比较器来指定排序规则</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericDemo5</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TreeSet&lt;Cat&gt; treeSet = <span class="keyword">new</span> TreeSet&lt;&gt;(<span class="keyword">new</span> CompareAnimal());</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Cat(<span class="string">"小猫01"</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Cat(<span class="string">"小猫06"</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Cat(<span class="string">"小猫03"</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Cat(<span class="string">"小猫07"</span>));</span><br><span class="line"></span><br><span class="line">        Iterator&lt;Cat&gt; iterator = treeSet.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            System.out.println(iterator.next().getName());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//折耳猫 extends Cat</span></span><br><span class="line">        TreeSet&lt;ZheErCat&gt; treeSet1 = <span class="keyword">new</span> TreeSet&lt;&gt;(<span class="keyword">new</span> CompareAnimal());</span><br><span class="line">        treeSet1.add(<span class="keyword">new</span> ZheErCat(<span class="string">"折耳猫01"</span>));</span><br><span class="line">        treeSet1.add(<span class="keyword">new</span> ZheErCat(<span class="string">"折耳猫06"</span>));</span><br><span class="line">        treeSet1.add(<span class="keyword">new</span> ZheErCat(<span class="string">"折耳猫03"</span>));</span><br><span class="line">        treeSet1.add(<span class="keyword">new</span> ZheErCat(<span class="string">"折耳猫07"</span>));</span><br><span class="line"></span><br><span class="line">        Iterator&lt;ZheErCat&gt; iterator1 = treeSet1.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator1.hasNext()) &#123;</span><br><span class="line">            System.out.println(iterator1.next().getName());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 指定父类型Animal的比较器</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CompareAnimal</span> <span class="keyword">implements</span> <span class="title">Comparator</span>&lt;<span class="title">Animal</span>&gt; </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Animal o1, Animal o2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result = o2.getName().compareTo(o1.getName());<span class="comment">//DESC</span></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ZheErCat</span> <span class="keyword">extends</span> <span class="title">Cat</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ZheErCat</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 自定义猫的比较器 Cat extends Animal</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">class CompareCat implements Comparator&lt;Cat&gt; &#123;</span></span><br><span class="line"><span class="comment">    @Override</span></span><br><span class="line"><span class="comment">    public int compare(Cat o1, Cat o2) &#123;</span></span><br><span class="line"><span class="comment">        int result = o1.getName().compareTo(o2.getName());</span></span><br><span class="line"><span class="comment">        return result;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 自定义折耳猫的比较器 ZheErCat extends Cat</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">class CompareZheErCat implements Comparator&lt;ZheErCat&gt; &#123;</span></span><br><span class="line"><span class="comment">    @Override</span></span><br><span class="line"><span class="comment">    public int compare(ZheErCat o1, ZheErCat o2) &#123;</span></span><br><span class="line"><span class="comment">        return o1.getName().compareTo(o2.getName());</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>倒序输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">小猫07</span><br><span class="line">小猫06</span><br><span class="line">小猫03</span><br><span class="line">小猫01</span><br><span class="line">折耳猫07</span><br><span class="line">折耳猫06</span><br><span class="line">折耳猫03</span><br><span class="line">折耳猫01</span><br></pre></td></tr></table></figure>

<h3 id="泛型与接口"><a href="#泛型与接口" class="headerlink" title="泛型与接口"></a>泛型与接口</h3><p>将泛型定义在接口上</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 泛型定义在接口上</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Generic</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">(T t)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*class GenericImpl implements Generic&lt;String&gt; &#123;</span></span><br><span class="line"><span class="comment">    @Override</span></span><br><span class="line"><span class="comment">    public void show(String s) &#123;</span></span><br><span class="line"><span class="comment">        System.out.println("show method:" + s);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GenericImpl</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Generic</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"t:"</span> + t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericInterface</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        GenericImpl generic = <span class="keyword">new</span> GenericImpl();</span><br><span class="line">        generic.show(<span class="number">666</span>);</span><br><span class="line">        generic.show(<span class="string">"what can I do for you?"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t:666</span><br><span class="line">t:what can I do for you?</span><br></pre></td></tr></table></figure>

<h3 id="泛型类中定义泛型方法"><a href="#泛型类中定义泛型方法" class="headerlink" title="泛型类中定义泛型方法"></a>泛型类中定义泛型方法</h3><p>泛型类中定义的泛型，在整个类中有效，如果被方法调用</p>
<p>那么泛型类的对象明确要操作的类型后，所有要操作的类型就已经固定了</p>
<p>为了让不同方法可以操作不同类型，而且类型还不确定，可以将泛型定义在方法上</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"show:"</span> + t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"print:"</span> + t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>泛型类中可以同时存在泛型方法</p>
<p><strong>特殊之处</strong>：静态方法不可以访问类上定义的泛型</p>
<p>如果静态方法操作的引用数据类型不确定，可以将泛型定义在方法上</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"show:"</span> + t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> &lt;Q&gt; <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(Q q)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"print:"</span> + q);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 静态泛型方法</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> w</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &lt;W&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;W&gt; <span class="function"><span class="keyword">void</span> <span class="title">method</span><span class="params">(W w)</span> </span>&#123;    <span class="comment">//建立对象的时候这个T才会被指定它的引用类型</span></span><br><span class="line">        System.out.println(<span class="string">"static generic method:"</span> + w);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericMethod</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Demo&lt;String&gt; demo = <span class="keyword">new</span> Demo&lt;&gt;();</span><br><span class="line">        demo.show(<span class="string">"haha"</span>);</span><br><span class="line"><span class="comment">//        demo.show(666);</span></span><br><span class="line">        demo.print(<span class="number">500</span>);</span><br><span class="line">        demo.print(<span class="string">"泛型方法"</span>);</span><br><span class="line">        Demo.method(<span class="string">"I POTATO YOU"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">show:haha</span><br><span class="line">print:500</span><br><span class="line">print:泛型方法</span><br><span class="line">static generic method:I POTATO YOU</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://getoutro.github.io/2020/05/02/mybatis%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hch">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="只只">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/02/mybatis%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/" itemprop="url">mybaits的配置文件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-02T00:00:00+08:00">
                2020-05-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index">
                    <span itemprop="name">数据库</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1、全局配置文件"><a href="#1、全局配置文件" class="headerlink" title="1、全局配置文件"></a>1、全局配置文件</h2><p>mybatis-config.xml：指导mybatis正确运行的一些全局设置</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">"development"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">"development"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">"JDBC"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 配置连接池 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">"POOLED"</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--使用$&#123;&#125;获取配置文件中的值--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driver"</span> <span class="attr">value</span>=<span class="string">"com.mysql.jdbc.Driver"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span></span></span><br><span class="line"><span class="tag">                          <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/mybatis?useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8<span class="symbol">&amp;amp;</span>serverTimezone=UTC<span class="symbol">&amp;amp;</span>useSSL=false"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--批量注册--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"com.hch.dao"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>MyBatis 的配置文件包含了会深深影响 MyBatis 行为的设置和属性信息。 配置文档的顶层结构如下：</p>
<ul>
<li><a href="https://mybatis.org/mybatis-3/zh/configuration.html#properties" target="_blank" rel="noopener">properties（属性）</a></li>
</ul>
<p>下面是一个使用properties标签的示例</p>
<p>新建一个dbconfig.properties文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jdbc.driverClass&#x3D;com.mysql.jdbc.Driver</span><br><span class="line">jdbc.jdbcUrl&#x3D;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;mybatis?useUnicode&#x3D;true&amp;characterEncoding&#x3D;UTF-8&amp;useSSL&#x3D;false&amp;serverTimezone&#x3D;UTC</span><br><span class="line">jdbc.username&#x3D;root</span><br><span class="line">jdbc.password&#x3D;root</span><br></pre></td></tr></table></figure>

<p>在mybatis-config.xml配置如下</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">"db.properties"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">"development"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">"JDBC"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 配置连接池 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">"POOLED"</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--使用$&#123;&#125;获取配置文件中的值--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driver"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.driverClass&#125;"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span></span></span><br><span class="line"><span class="tag">                          <span class="attr">value</span>=<span class="string">"$&#123;jdbc.jdbcUrl&#125;"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.username&#125;"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.password&#125;"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>注意：如果在idea下的maven工程中的话，注意要保证 *.xml和 *.properties的配置文件不被过滤，在pom.xml文件中加入下面的代码：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 如果不添加此节点mybatis的mapper.xml文件都会被漏掉。 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                   <span class="comment">&lt;!--避免过滤掉配置文件--&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">           <span class="comment">&lt;!--如果将映射文件直接放在dao下，就加入下面配置，否则忽略--&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong><a href="https://mybatis.org/mybatis-3/zh/configuration.html#settings" target="_blank" rel="noopener">settings（设置）</a></strong></p>
<p>这是 MyBatis 中极为重要的调整设置，它们会改变 MyBatis 的运行时行为。在测试中碰到了一个问题，就是login_access这个字段的值无法获取，显示为null，这时候应该想到应该是没有开启驼峰匹配，应在全局配置文件中加入以下设置，注意标签的顺序</p>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--开启驼峰匹配--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">"mapUnderscoreToCamelCase"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><a href="https://mybatis.org/mybatis-3/zh/configuration.html#typeAliases" target="_blank" rel="noopener">typeAliases（类型别名）</a></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--批量起别名，name=""指定包名，默认别名就是类名--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"com.hch.bean.Employee"</span>/&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--推荐使用全类名--&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://mybatis.org/mybatis-3/zh/configuration.html#typeHandlers" target="_blank" rel="noopener">typeHandlers（类型处理器）</a></li>
</ul>
<p>原生的jdbc执行sql，或者封装结果集</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//伪代码</span><br><span class="line">Connection con = dataSource.getConnection();</span><br><span class="line">String sql = "insert into t_employee(empname,email,gender) values(?,?,?)";</span><br><span class="line">//预编译更安全</span><br><span class="line">PreparedStatement ps = con.prepareStatement(sql);</span><br><span class="line">//设置参数</span><br><span class="line">ps.setString(0,"admin");</span><br><span class="line">ps.setString(1,"admin@qq.com");</span><br><span class="line">ps.setInt(2,1);</span><br><span class="line">int i = ps.executeUpdate();</span><br><span class="line">ps.close();</span><br><span class="line">con.close();</span><br></pre></td></tr></table></figure>

<p>MyBatis 在设置预处理语句（PreparedStatement）中的参数或从结果集中取出一个值时， 都会用类型处理器将获取到的值以合适的方式转换成 Java对应的 类型。 </p>
<ul>
<li><p><a href="https://mybatis.org/mybatis-3/zh/configuration.html#objectFactory" target="_blank" rel="noopener">objectFactory（对象工厂）</a></p>
</li>
<li><p><a href="https://mybatis.org/mybatis-3/zh/configuration.html#plugins" target="_blank" rel="noopener">plugins（插件）</a></p>
</li>
</ul>
<p>MyBatis 允许你在映射语句执行过程中的某一点进行拦截调用。默认情况下，MyBatis 允许使用插件来拦截的方法调用包括：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//执行器</span></span><br><span class="line">Executor (update, query, flushStatements, commit, rollback, getTransaction, close, isClosed)</span><br><span class="line"><span class="comment">//参数处理器</span></span><br><span class="line">ParameterHandler (getParameterObject, setParameters)</span><br><span class="line"><span class="comment">//结果集处理器</span></span><br><span class="line">ResultSetHandler (handleResultSets, handleOutputParameters)</span><br><span class="line"><span class="comment">//处理Mybatis与JDBC之间Statement的交互</span></span><br><span class="line">StatementHandler (prepare, parameterize, batch, update, query)</span><br></pre></td></tr></table></figure>

<ul>
<li>environments（环境配置）<ul>
<li>environment（环境变量）<ul>
<li>transactionManager（事务管理器）</li>
<li>dataSource（数据源）</li>
</ul>
</li>
</ul>
</li>
<li><a href="https://mybatis.org/mybatis-3/zh/configuration.html#databaseIdProvider" target="_blank" rel="noopener">databaseIdProvider（数据库厂商标识）</a></li>
</ul>
<p>不同的数据库，SQL的语法不尽相同，因此要标识不同的数据库厂商</p>
<ul>
<li><strong><a href="https://mybatis.org/mybatis-3/zh/configuration.html#mappers" target="_blank" rel="noopener">mappers（映射器）</a></strong></li>
</ul>
<p>降低耦合的关键在于将bean的依赖关系抽取出来的环节而不在于将bean的依赖关系放在哪里！</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--class：直接引用接口的全类名，使用这种方式要注意，必须把接口的配置文件放在同一包下面，并且名字要相同--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 使用映射器接口实现类的完全限定类名 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">class</span>=<span class="string">"com.hch.dao.EmployeeDao"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在实际开发中，dao包下会有很多的接口和映射文件，这时候我们可以采用package批量注册的方式</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--批量注册 name="" : dao所在的包名--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"com.hch.dao"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">该测试类测试的一个是通过注解的方式直接在接口的方法上定义sql语句，另一个是通过映射文件实现数据查询，在没有添加</span></span><br><span class="line"><span class="comment">*/</span>	</span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAnnotation</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//2、得到sqlSession对象</span></span><br><span class="line">        SqlSession session = sqlSessionFactory.openSession();</span><br><span class="line">        <span class="comment">//3、获取到dao接口的实现(映射器)</span></span><br><span class="line">        EmployeeDaoAnnotation mapper = session.getMapper(EmployeeDaoAnnotation<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        <span class="comment">//class com.sun.proxy.$Proxy6 一个代理对象</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Employee employee = mapper.getEmpById(<span class="number">1</span>);</span><br><span class="line">            System.out.println(mapper.getClass());</span><br><span class="line">            <span class="comment">//EmployeeDao并不能获取到值，因为包下没有映射文件</span></span><br><span class="line">            EmployeeDao mapper1 = session.getMapper(EmployeeDao<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">            Employee empById = mapper1.getEmpById(<span class="number">1</span>);</span><br><span class="line">            System.out.println(<span class="number">6</span>);</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            session.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>EmployeeDaoAnnotation.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hch.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hch.bean.Employee;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Delete;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Insert;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Select;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Update;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">EmployeeDaoAnnotation</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"select * from t_employee where id = #&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function">Employee <span class="title">getEmpById</span><span class="params">(Integer id)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Update</span>(<span class="string">"update t_employee\n"</span> +</span><br><span class="line">            <span class="string">"        set empname = #&#123;empName&#125;, gender = #&#123;gender&#125;, email = #&#123;email&#125;,login_access = #&#123;loginAccess&#125;\n"</span> +</span><br><span class="line">            <span class="string">"        where id = #&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">updateEmployee</span><span class="params">(Employee employee)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Delete</span>(<span class="string">"delete from t_employee where id = #&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">deleteEmployee</span><span class="params">(Integer id)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Insert</span>(<span class="string">"insert into t_employee(empname,gender,email,login_access) values(#&#123;empName&#125;,#&#123;gender&#125;,#&#123;email&#125;,#&#123;loginAccess&#125;)"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">insertEmployee</span><span class="params">(Employee employee)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对于简单的业务处理，可以采用注解的方式比较方便。</p>
<p>EmployeeDao.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hch.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hch.bean.Employee;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">EmployeeDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">Employee <span class="title">getEmpById</span><span class="params">(Integer id)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">updateEmployee</span><span class="params">(Employee employee)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">deleteEmployee</span><span class="params">(Integer id)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">insertEmployee</span><span class="params">(Employee employee)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>不通过注解，配置映射文件 Employee.xml，注意接口与映射文件名字要一一对应。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--namespace：写dao接口的全类名--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"com.hch.dao.EmployeeDao"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Employee getEmpById(Integer id);--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getEmpById"</span> <span class="attr">resultType</span>=<span class="string">"com.hch.bean.Employee"</span>&gt;</span></span><br><span class="line">        select * from t_employee where id=#&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--int updateEmployee(Employee employee);--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">"updateEmployee"</span>&gt;</span></span><br><span class="line">        update t_employee</span><br><span class="line">            set empname = #&#123;empName&#125;,gender=#&#123;gender&#125;,email=#&#123;email&#125;,login_access=#&#123;loginAccess&#125;</span><br><span class="line">            where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--boolean deleteEmployee(Integer id);--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">"deleteEmployee"</span>&gt;</span></span><br><span class="line">        delete from t_employee where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">"insertEmployee"</span> <span class="attr">useGeneratedKeys</span>=<span class="string">"true"</span> <span class="attr">keyProperty</span>=<span class="string">"id"</span>&gt;</span></span><br><span class="line">            insert into t_employee(empname,gender,email,login_access) values(#			&#123;empName&#125;,#&#123;gender&#125;,#&#123;email&#125;,#&#123;loginAccess&#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>测试结果：</p>
<p><img src="http://s1.wailian.download/2020/05/02/3_EX64MR8_DPKPJ9R1.png" alt="3_EX64MR8_DPKPJ9R1.png"></p>
<h2 id="2、SQL映射文件"><a href="#2、SQL映射文件" class="headerlink" title="2、SQL映射文件"></a>2、SQL映射文件</h2><p>1）、CRUD标签</p>
<p><img src="http://s1.wailian.download/2020/05/02/31TAA3OQXQMA4J.png" alt="31TAA3OQXQMA4J.png"></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">"insertEmployee"</span>&gt;</span>    </span><br><span class="line">	insert into t_employee(empname,gender,email,login_access) values(#		&#123;empName&#125;,#&#123;gender&#125;,#&#123;email&#125;,#&#123;loginAccess&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>useGeneratedKeys和keyProperty配合使用：实现获取到插入数据后的自增id</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">"insertEmployee"</span> <span class="attr">useGeneratedKeys</span>=<span class="string">"true"</span> <span class="attr">keyProperty</span>=<span class="string">"id"</span>&gt;</span></span><br><span class="line">        insert into t_employee(empname,gender,email,login_access) values(#&#123;empName&#125;,#&#123;gender&#125;,#&#123;email&#125;,#&#123;loginAccess&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>#{}和${}取值的区别</strong>    面试中可能会被考察的问题</p>
<p>在mybatis种，存在这两种取值的方式</p>
<p><strong>#{属性名}</strong>：是参数预编译的方式，参数的位置用’?’代替，参数是后来预编译的时候设置的，预编译的方式会更安全，有效避免SQL注入危险</p>
<p><strong>${属性名}</strong>：这种方式是直接和sql语句进行拼接，不安全，容易被SQL注入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">select</span> * <span class="keyword">from</span> t_employee <span class="keyword">where</span> <span class="keyword">id</span>=$&#123;<span class="keyword">id</span>&#125; <span class="keyword">and</span> empname=?</span><br><span class="line"><span class="comment">-- 设置id='1 or 1=1 or ',通过这种拼接的方式可以得到所有记录</span></span><br></pre></td></tr></table></figure>

<p>应用场景：sql语句只有参数位置是支持预编译的；</p>
<p>比如数据库日志表数据太多采用分表操作，,而表名是不支持预编译的，可以使用${}这种方式来动态获取表名</p>
<p>mybatis的配置详情可以参考mybatis的官方文档，还是要多敲多练才有进步！</p>
<p> <a href="https://mybatis.org/mybatis-3/zh/index.html" target="_blank" rel="noopener">https://mybatis.org/mybatis-3/zh/index.html</a> </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://getoutro.github.io/2020/04/30/%E4%BA%86%E8%A7%A3%E4%B8%80%E4%B8%8BORM/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hch">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="只只">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/30/%E4%BA%86%E8%A7%A3%E4%B8%80%E4%B8%8BORM/" itemprop="url">什么是ORM(Object Relational Mapping)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-04-30T00:00:00+08:00">
                2020-04-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index">
                    <span itemprop="name">数据库</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="什么是ORM？为什么要用ORM？"><a href="#什么是ORM？为什么要用ORM？" class="headerlink" title="什么是ORM？为什么要用ORM？"></a>什么是ORM？为什么要用ORM？</h1><p>在了解ORM之前，应该先了解下面的概念：</p>
<h2 id="1、什么是“持久化-Persistence-”"><a href="#1、什么是“持久化-Persistence-”" class="headerlink" title="1、什么是“持久化(Persistence)”"></a>1、什么是“持久化(Persistence)”</h2><p>把数据（如内存中的对象）保存到可以永久保存的存储设备中（比如计算机的硬盘），持久化的作用就是将内容中的数据存储在关系型数据库中。</p>
<h2 id="2、什么是“持久层-Persistence-Layer-”？"><a href="#2、什么是“持久层-Persistence-Layer-”？" class="headerlink" title="2、什么是“持久层(Persistence Layer)”？"></a>2、什么是“持久层(Persistence Layer)”？</h2><p>持久层专注于实现持久化应用领域的某个系统的一个逻辑层面，将数据使用者（软件开发人员）与数据库实体相关联。</p>
<h2 id="3、什么是ROM？"><a href="#3、什么是ROM？" class="headerlink" title="3、什么是ROM？"></a>3、什么是ROM？</h2><p>ORM(Object Relational Mapping)对象关系映射，在关系型数据库和对象之间作一个映射，因此，在具体的操作数据库的时候，不需要和复杂的SQL语句打交道，只要像平时操作对象一样操作它就行了。</p>
<h2 id="4、为什么要做持久化和ORM设计呢？"><a href="#4、为什么要做持久化和ORM设计呢？" class="headerlink" title="4、为什么要做持久化和ORM设计呢？"></a>4、为什么要做持久化和ORM设计呢？</h2><p>在当前的企业应用开发过程中，MVC为主要的系统架构模式，Model包含了复杂的业务逻辑和数据逻辑，以及数据存取机制(如 JDBC的连接、SQL的生成和 Statement创建、还有 ResultSet结果集的读取等)，将这些复杂的业务逻辑和数据逻辑分离，实际上就是降低系统代码的高耦合，因为开发过程中有很多代码涉及到对数据库的操作，降低代码的耦合度是迫切要做的内容，也是<strong>持久化</strong>要做的工作。MVC模式实现了架构上将View层（视图层）和Model层（数据处理层）分离的解耦合，持久化的设计实现了数据处理层内部的业务逻辑分离的解耦。ORM作为持久化设计中的最重要的也是最复杂的技术、是目前业界热点的技术。</p>
<p>在传统的JDBC操作数据库有以下操作，数据和数据库存取逻辑是混杂在一起的</p>
<p>1、建立数据库连接，获得Connection对象</p>
<p>2、根据用户的输入组装查询的SQL语句</p>
<p>3、根据SQL语句建立Statement对象或者PreparedStatement对象</p>
<p>4、用Connection对象执行SQL语句，获得结果集ResltSet对象</p>
<p>5、然后一条一条读取结果集ResultSet对象中的数据</p>
<p>6、根据读取到的数据，按特定的业务逻辑进行计算</p>
<p>7、根据计算得到的结果再组装更新SQL语句</p>
<p>8、再使用Connection对象执行更新SQL语句，以更新数据中的数据</p>
<p>9、最后还要关闭Statement对象和Connection对象</p>
<p>从上面的步骤可以看出代码逻辑非常复杂，这其中还不包括某条执行失败的语句的处理逻辑。 其中的业务处理逻辑和数据存取逻辑完全混杂在一块。而一个完整的系统要包含成千上万个这样重复的而又混杂的处理过程，假如要对其中某些业务逻辑或者一些相关联的业务流程做修改，要改动的代码量将不可想象。另一方面，假如要换数据库 产品或者运行环境也可能是个不可能完成的任务。而用户的运行环境和要求却千差万别，我们不可能为每一个用户每一种运行环境设计一套一样的系统。 </p>
<p>因此就要将一样的处理代码即业务逻辑和可能不一样的处理即数据存取逻辑分离开来，另一方面，关系型数据库中的数据基本都是以一行行的数据进行存取的，而程序运行却是一个个对象进行处理，而目前大部分数据库驱动技术（如ADO.NET、JDBC、ODBC等等）均是以行集的结果集一条条进行处理的。所以为解决 这一困难，就出现 ORM 这一个对象和数据之间映射技术。 </p>
<p> 举例来说，比如要完成一个购物打折促销的程序，用 ORM 思想将如下实现（引自《深入浅出Hibernate》）：<br>业务逻辑如下： </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Double <span class="title">calcAmount</span><span class="params">(String customerid, <span class="keyword">double</span> amount)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 根据客户ID获得客户记录</span></span><br><span class="line">    Customer customer = CustomerManager.getCustomer(custmerid); </span><br><span class="line">    <span class="comment">// 根据客户等级获得打折规则</span></span><br><span class="line">    Promotion promotion = PromotionManager.getPromotion(customer.getLevel()); </span><br><span class="line">    <span class="comment">// 累积客户总消费额，并保存累计结果</span></span><br><span class="line">    customer.setSumAmount(customer.getSumAmount().add(amount); </span><br><span class="line">    CustomerManager.save(customer); </span><br><span class="line">    <span class="comment">// 返回打折后的金额</span></span><br><span class="line">    <span class="keyword">return</span> amount.multiply(protomtion.getRatio()); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 这样的代码就非常清晰了，而且与数据存取逻辑完全分离。设计业务逻辑代码的时候完全不需要考虑数据库JDBC的那些千篇一律的操作，而将它交给 CustomerManager 和 PromotionManager 两个类去完成。这就是一个简单的 ORM 设计，实际的 ORM 实现框架比这个要复杂的多。 </p>
<hr>
<p>转载自： <a href="https://blog.csdn.net/u010947534/article/details/90669452" target="_blank" rel="noopener">https://blog.csdn.net/u010947534/article/details/90669452</a> </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://getoutro.github.io/2020/04/30/MyBatis/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hch">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="只只">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/30/MyBatis/" itemprop="url">在idea下实现MyBatis的helloworld</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-04-30T00:00:00+08:00">
                2020-04-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index">
                    <span itemprop="name">数据库</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="学习一下MyBatis"><a href="#学习一下MyBatis" class="headerlink" title="学习一下MyBatis"></a>学习一下MyBatis</h1><h2 id="1、MyBatis介绍"><a href="#1、MyBatis介绍" class="headerlink" title="1、MyBatis介绍"></a>1、MyBatis介绍</h2><p>Mybatis:    用来和数据库进行交互，持久化层框架(SQL映射框架)；</p>
<p>1)、从原始的JDBC—–&gt;dbutils(QueryRunner)——&gt;JdbcTemplate—–&gt;xxx</p>
<p>​    称为工具；</p>
<p>​    工具：一些功能的简单封装</p>
<p>​    框架：某个领域的整体解决方案；缓存，考虑异常的处理问题，考虑部分字段映射问题…</p>
<p>不使用原生的JDBC：</p>
<p>​    1）、麻烦，有太多重复的代码，高耦合</p>
<p>​    2）、sql语句是硬编码再程序中，耦合（数据库编码与java编码耦合）</p>
<p>2）、Hibernate–数据库交互的框架(ORM框架，Object-Relationl Mapping) 使用各种框架</p>
<p>全自动的持久层框架</p>
<p>JPA也是ORM框架</p>
<p>创建好JavaBean；</p>
<p>通过一个注解直接生成数据库中的表</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Table</span>(<span class="string">"t_employee"</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer empId;</span><br><span class="line">    <span class="keyword">private</span> String empName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">session.get(<span class="string">"1"</span>,Employee<span class="class">.<span class="keyword">class</span>)</span>;</span><br></pre></td></tr></table></figure>

<p>缺点：</p>
<p>​    1）、定制sql；比较麻烦</p>
<p>​    2）、HQL；Hibernate Query Language</p>
<p>​    3）、全映射框架，部分字段映射很难；能做，但是数据库开销很大，取一个字段要把整个表的全取出</p>
<p>希望：最好有一个框架能支持定制化sql，而且还功能强大；sql也不要硬编码在Java文件中（导致维护麻烦）</p>
<p>MyBatis应运而生，将SQL语句全部写在配置文件中，自动执行，因业务的变更只用更改配置文件的SQL语句，而不需要更改Java代码，或者修改的代码很少</p>
<p>特点：</p>
<p>​    1）、MyBatis将重要的步骤抽取出来可以人工定制，其他步骤自动化；</p>
<p>​    2）、重要步骤都是写在配置文件，便于维护；</p>
<p>​    3）、完全解决数据库的优化问题；</p>
<p>​    4）、MyBatis底层就是对原生JDBC的一个简单封装；</p>
<p>​    5）、即将Java编码与SQL抽取了出来，还不会失去自动化功能；半自动化的持久化层框架</p>
<p>​    6）、是一个轻量级框架</p>
<p>sql与java编码分开，功能边界清晰，一个专注业务，一个专注于数据</p>
<h2 id="2、HelloWorld"><a href="#2、HelloWorld" class="headerlink" title="2、HelloWorld"></a>2、HelloWorld</h2><p>MyBatis是持久化层框架(SQL映射框架)-操作数据库</p>
<p>1）、环境搭建</p>
<p>​    1）、创建一个maven工程；</p>
<p>​    2）、创建测试库、测试表、以及封装数据的JavaBean，和操作数据的dao</p>
<p>​        创建表:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`t_employee`</span> (</span><br><span class="line">  <span class="string">`id`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  <span class="string">`empname`</span> <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">COLLATE</span> utf8mb4_bin <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`gender`</span> <span class="built_in">int</span>(<span class="number">1</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`email`</span> <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">COLLATE</span> utf8mb4_bin <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>​        创建javabean：Employee（封装表的数据）</p>
<p>​        创建一个Dao接口，用来操作数据库</p>
<p>​    3）、用MyBatis操作数据库</p>
<p>​        1）、导包，使用maven导入相应依赖即可</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--引入mybatis--&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.49<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>​        2）、写配置（两个，全局配置文件（知道mybatis运行的），dao接口的实现文件（描述dao中每个方法怎么工作））</p>
<p>​                1）、第一个配置文件：称为mybatis的全局配置文件，指导mybatis如何正确运行，比如连接哪个数据库</p>
<p>在配置文件mybatis-config.xml中即可完成</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">"development"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">"development"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">"JDBC"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 配置连接池 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">"POOLED"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driver"</span> <span class="attr">value</span>=<span class="string">"com.mysql.jdbc.Driver"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/mybatis?useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8<span class="symbol">&amp;amp;</span>serverTimezone=UTC<span class="symbol">&amp;amp;</span>useSSL=false"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">"org/mybatis/example/BlogMapper.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>​            2）、第二个配置文件：（编写每一个方法都如歌向数据库发送sql语句，如何执行…,相当于接口的实现类）EmployeeDao.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- namespace:命名空间；写接口的全类名，相当于告诉MyBatis这个配置文件时实现哪个接口的--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"com.hch.dao.EmployeeDao"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--定义一个查询操作: select定义一个查询操作， id：方法名，相当于这个配置是对某个方法的实现</span></span><br><span class="line"><span class="comment">    resultType:指定方法运行后的返回值类型(查询操作必须指定)</span></span><br><span class="line"><span class="comment">    #&#123;id&#125;:代表取出 传递过来的某个参数的值</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getEmployee"</span> <span class="attr">resultType</span>=<span class="string">"com.hch.Employee"</span>&gt;</span></span><br><span class="line">    select * from t_employee where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>​            3）、我们写的dao接口的实现文件，mybatis默认是不知道的，需要在<strong>全局配置文件mybatis-config.xml</strong>中注册</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--引入我们自己编写的每一个接口的实现文件--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--resource：表示从类路径下找资源--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">"config/EmployeeDao.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>​        3）、测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.hch.bean.Employee;</span><br><span class="line"><span class="keyword">import</span> com.hch.dao.EmployeeDao;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBatisTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//1、根据全局配置文件，创建出一个SqlSessionFactory</span></span><br><span class="line">        <span class="comment">//SqlSessionFactory：是SqlSession工厂，负责创建SqlSession对象</span></span><br><span class="line">        <span class="comment">//SqlSession：sql会话（代表和数据库的一次会话）</span></span><br><span class="line">        String resource = <span class="string">"mybatis-config.xml"</span>;</span><br><span class="line">        InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        SqlSessionFactory sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">        Employee employee = <span class="keyword">null</span>;</span><br><span class="line">        SqlSession session =<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//2、获取和数据库的一次会话</span></span><br><span class="line">            session = sqlSessionFactory.openSession();</span><br><span class="line">            <span class="comment">//3、使用SqlSession操作数据库,获取到dao接口的实现</span></span><br><span class="line">            EmployeeDao employeeDao = session.getMapper(EmployeeDao<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">            <span class="comment">//调用接口中定义的方法</span></span><br><span class="line">            employee = employeeDao.getEmpById(<span class="number">1</span>);</span><br><span class="line">            System.out.println(employee);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            session.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​            测试结果：</p>
<p><img src="http://s1.wailian.download/2020/04/30/mybatis_helloworld.png" alt="mybatis_helloworld.png"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://getoutro.github.io/2020/04/29/vue%E4%B8%8B%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8yarn/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hch">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="只只">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/29/vue%E4%B8%8B%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8yarn/" itemprop="url">vue下如何使用yarn</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-04-29T00:00:00+08:00">
                2020-04-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F/" itemprop="url" rel="index">
                    <span itemprop="name">镜像加速</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="vue-如何使用yarn"><a href="#vue-如何使用yarn" class="headerlink" title="vue 如何使用yarn"></a>vue 如何使用yarn</h2><h3 id="1-全局安装yarn"><a href="#1-全局安装yarn" class="headerlink" title="1.全局安装yarn"></a>1.全局安装yarn</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g yarn</span><br></pre></td></tr></table></figure>



<h3 id="2-安装yarn的淘宝镜像"><a href="#2-安装yarn的淘宝镜像" class="headerlink" title="2.安装yarn的淘宝镜像"></a>2.安装yarn的淘宝镜像</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn config set registry https:&#x2F;&#x2F;registry.npm.taobao.org</span><br></pre></td></tr></table></figure>



<p>后面将详细介绍如何搭建vue脚手架的过程</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.png"
                alt="hch" />
            
              <p class="site-author-name" itemprop="name">hch</p>
              <p class="site-description motion-element" itemprop="description">好想爱这个世界啊</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <!-- 新增访客统计代码 -->

<div class="busuanzi-count">
    <script async="" src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="site-uv">
      <i class="fa fa-user"></i>
      访问用户： <span class="busuanzi-value" id="busuanzi_value_site_uv"></span> 人
    </span>
    <div class="powered-by"></div>
    <span class="site-uv">
      <i class="fa fa-eye"></i>
      访问次数： <span class="busuanzi-value" id="busuanzi_value_site_pv"></span> 次
    </span>
</div>
<!-- 新增访客统计代码 END-->

<div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">hch</span>
 
  
</div>

<!--

  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>




  <span class="post-meta-divider">|</span>




  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>



-->

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
